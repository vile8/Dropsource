{"swagger":"2.0","info":{"version":"1.0.0","title":"Optimalprint API","description":"This is an API for usage with OP frontend application. Currenly cart-related and user login / regisration actions are supported.\n"},"host":"eu.optimalprint.dev","basePath":"/app-api","consumes":["application/json"],"produces":["application/json"],"definitions":{"customer":{"type":"object","required":["customerId"],"properties":{"customerId":{"type":"integer"},"firstName":{"type":"string"},"lastName":{"type":"string"},"roleId":{"type":"integer"},"company":{"type":"string"},"opLoyalFrom":{"type":"string","format":"date-time"},"opLoyalUntil":{"type":"string","format":"date-time"},"opLoyalIsSubscribed":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"shipmentAddress":{"type":"object","required":["shipmentAddressId"],"properties":{"shipmentAddressId":{"type":"integer"},"firstName":{"type":"string"},"lastName":{"type":"string"},"company":{"type":"string"},"countryId":{"type":"string"},"city":{"type":"string"},"county":{"type":"string"},"usStateId":{"type":"string"},"canadianProvinceId":{"type":"string"},"addressLine1":{"type":"string"},"addressLine2":{"type":"string"},"addressLine3":{"type":"string"},"phonePrefix":{"type":"string"},"phoneNumber":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"orderItemPricesNumeric":{"type":"object","properties":{"price":{"type":"number"},"initial":{"type":"number"},"vatInitial":{"type":"number"},"vat":{"type":"number"},"discount":{"type":"number"},"vatDiscount":{"type":"number"}}},"orderItemPricesFormatted":{"type":"object","properties":{"price":{"type":"string"},"initial":{"type":"string"},"vatInitial":{"type":"string"},"vat":{"type":"string"},"discount":{"type":"string"},"vatDiscount":{"type":"string"}}},"orderItemPrices":{"type":"object","properties":{"currencyId":{"type":"string"},"numeric":{"type":"object","$ref":"#/definitions/orderItemPricesNumeric"},"formatted":{"type":"object","$ref":"#/definitions/orderItemPricesFormatted"}}},"orderItemQuantityPrice":{"type":"object","properties":{"quantity":{"type":"integer"},"currencyId":{"type":"string"},"numeric":{"type":"object","properties":{"perItemInitial":{"type":"number"},"perItemDiscounted":{"type":"number"},"subtotalInitial":{"type":"number"},"subtotalDiscounted":{"type":"number"}}},"formatted":{"type":"object","properties":{"perItemInitial":{"type":"string"},"perItemDiscounted":{"type":"string"},"subtotalInitial":{"type":"string"},"subtotalDiscounted":{"type":"string"}}}}},"orderPricesNumeric":{"type":"object","properties":{"itemsInitial":{"type":"number"},"itemsDiscount":{"type":"number"},"itemsTotal":{"type":"number"},"itemsVatInitial":{"type":"number"},"itemsVatDiscount":{"type":"number"},"itemsVatTotal":{"type":"number"},"shippingInitial":{"type":"number"},"shippingDiscount":{"type":"number"},"shippingTotal":{"type":"number"},"shippingVatInitial":{"type":"number"},"shippingVatDiscount":{"type":"number"},"shippingVatTotal":{"type":"number"},"totalInitial":{"type":"number"},"totalDiscount":{"type":"number"},"total":{"type":"number"},"totalVat":{"type":"number"}}},"orderPricesFormatted":{"type":"object","properties":{"itemsInitial":{"type":"string"},"itemsDiscount":{"type":"string"},"itemsTotal":{"type":"string"},"itemsVatInitial":{"type":"string"},"itemsVatDiscount":{"type":"string"},"itemsVatTotal":{"type":"string"},"shippingInitial":{"type":"string"},"shippingDiscount":{"type":"string"},"shippingTotal":{"type":"string"},"shippingVatInitial":{"type":"string"},"shippingVatDiscount":{"type":"string"},"shippingVatTotal":{"type":"string"},"totalInitial":{"type":"string"},"totalDiscount":{"type":"string"},"total":{"type":"string"},"totalVat":{"type":"string"}}},"orderPrices":{"type":"object","properties":{"currencyId":{"type":"string"},"numeric":{"type":"object","$ref":"#/definitions/orderPricesNumeric"},"formatted":{"type":"object","$ref":"#/definitions/orderPricesFormatted"}}},"orderItem":{"type":"object","required":["itemId","productBatchsizeId"],"properties":{"itemId":{"type":"integer"},"productType":{"type":"string"},"paperFormatName":{"type":"string"},"paperFormatType":{"type":"string"},"designId":{"type":"integer"},"previewUrls":{"type":"object","properties":{"thumbnails":{"type":"array","items":{"type":"string"}},"modal":{"type":"array","items":{"type":"string"}}}},"productBatchsizeId":{"type":"integer"},"vat":{"type":"number"},"orderItemTypeId":{"type":"integer"},"prices":{"type":"object","$ref":"#/definitions/orderItemPrices"},"quantityPrices":{"type":"array","items":{"$ref":"#/definitions/orderItemQuantityPrice"}},"childorderItemPrices":{"type":"object","properties":{"coating":{"type":"object","$ref":"#/definitions/orderItemQuantityPrice"},"premiumPaper":{"type":"object","$ref":"#/definitions/orderItemQuantityPrice"},"optionalBlankEnvelopes":{"type":"array","items":{"$ref":"#/definitions/orderItemQuantityPrice"}}}},"percentDiscount":{"type":"number"},"quantity":{"type":"integer"},"hasMandatoryBlankEnvelopes":{"type":"boolean"},"hasOptionalBlankEnvelopes":{"type":"boolean"},"hasCoating":{"type":"boolean"},"hasPremiumPaper":{"type":"boolean"},"hasMatchingProducts":{"type":"boolean"},"externalPageUrls":{"type":"object","properties":{"editDesign":{"type":"string"},"matchingProducts":{"type":"string"}}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"voucher":{"type":"object","properties":{"voucherId":{"type":"integer"},"typeId":{"type":"integer"},"code":{"type":"string"},"description":{"type":"string"},"discountPercentage":{"type":"object","properties":{"numeric":{"type":"object","properties":{"items":{"type":"number"},"shipment":{"type":"number"}}},"formatted":{"type":"object","properties":{"items":{"type":"string"},"shipment":{"type":"string"}}}}},"showExpirationDate":{"type":"boolean"},"expirationDate":{"type":"string","format":"date-time"}}},"order":{"type":"object","required":["customerOrderId"],"properties":{"customerOrderId":{"type":"integer"},"orderStatusId":{"type":"integer"},"customerId":{"type":"integer"},"shipmentAddressId":{"type":["integer","null"]},"billingAddressId":{"type":["integer","null"]},"shipmentMethodId":{"type":["integer","null"]},"shipmentMethodGroupId":{"type":["integer","null"]},"shipmentMethodName":{"type":["string","null"]},"shipmentProviderId":{"type":["string","null"]},"printHouseCountryId":{"type":["string","null"]},"isTracked":{"type":"boolean"},"minDeliveryDay":{"type":"integer"},"maxDeliveryDay":{"type":"integer"},"prices":{"type":"object","$ref":"#/definitions/orderPrices"},"showIncVat":{"type":"boolean"},"items":{"type":"array","items":{"$ref":"#/definitions/orderItem"}},"vouchers":{"type":"array","items":{"$ref":"#/definitions/voucher"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"cartResponse":{"type":"object","properties":{"errorCode":{"type":"integer"},"errorMessage":{"type":"string"},"order":{"$ref":"#/definitions/order"}}}},"paths":{"/cart":{"get":{"summary":"Returns cart content & total sums","responses":{"200":{"description":"Returns cart content","schema":{"$ref":"#/definitions/cartResponse"}}}}},"/cart/remove-item/{itemId}":{"get":{"summary":"Removes the specific order item (including children items)","responses":{"200":{"description":"Returns modified cart content (modified item list and recalculated sums)","schema":{"$ref":"#/definitions/cartResponse"}},"404":{"description":"Requested order item is NOT found.","schema":{"$ref":"#/definitions/cartResponse"}}},"parameters":[{"name":"itemId","in":"path","description":"item ID to remove","type":"integer","required":true}]}},"/cart/add-child-item/{parentItemId}":{"get":{"summary":"Adds the specific child of the requested parent order item","responses":{"200":{"description":"Returns modified cart content (modified item list and recalculated sums)","schema":{"$ref":"#/definitions/cartResponse"}},"400":{"description":"Specified child order item cannot be added (e.g. not relevant)","schema":{"$ref":"#/definitions/cartResponse"}},"404":{"description":"Requested parent order item is NOT found.","schema":{"$ref":"#/definitions/cartResponse"}}},"parameters":[{"name":"parentItemId","in":"path","description":"parent item ID to modify","type":"integer","required":true},{"name":"coating","in":"query","description":"flag defining whether to add coating (glossy paper) or not","type":"boolean","required":false,"default":false},{"name":"premium","in":"query","description":"flag defining whether to add premium (matte) paper or not","type":"boolean","required":false,"default":false},{"name":"blankEnvelopes","in":"query","description":"flag defining whether to add non-mandatory blank envelopes or not","type":"boolean","required":false,"default":false}]}},"/cart/remove-child-item/{parentItemId}":{"get":{"summary":"Removes the specific child of the requested parent order item","responses":{"200":{"description":"Returns modified cart content (modified item list and recalculated sums)","schema":{"$ref":"#/definitions/cartResponse"}},"400":{"description":"Specified child order item cannot be removed","schema":{"$ref":"#/definitions/cartResponse"}},"404":{"description":"Requested parent order item is NOT found.","schema":{"$ref":"#/definitions/cartResponse"}}},"parameters":[{"name":"parentItemId","in":"path","description":"parent item ID to modify","type":"integer","required":true},{"name":"coating","in":"query","description":"flag defining whether to remove coating (glossy paper) or not","type":"boolean","required":false,"default":false},{"name":"premium","in":"query","description":"flag defining whether to remove premium (matte) paper or not","type":"boolean","required":false,"default":false},{"name":"blankEnvelopes","in":"query","description":"flag defining whether to remove non-mandatory blank envelopes or not","type":"boolean","required":false,"default":false}]}},"/cart/add-voucher/{voucherCode}":{"get":{"summary":"Adds the specific voucher corresponding to the entered code","responses":{"200":{"description":"Returns modified cart content (with recalculated sums)","schema":{"$ref":"#/definitions/cartResponse"}},"404":{"description":"Requested voucher code is NOT found.","schema":{"$ref":"#/definitions/cartResponse"}}},"parameters":[{"name":"voucherCode","in":"path","description":"voucher code corresponding the voucher to add","type":"string","required":true}]}},"/cart/remove-voucher/{voucherId}":{"get":{"summary":"Removes the specific voucher","responses":{"200":{"description":"Returns modified cart content (with recalculated sums)","schema":{"$ref":"#/definitions/cartResponse"}},"404":{"description":"Requested voucher is NOT found.","schema":{"$ref":"#/definitions/cartResponse"}}},"parameters":[{"name":"voucherId","in":"path","description":"voucher ID to remove","type":"integer","required":true}]}},"/cart/add-premium":{"get":{"summary":"Adds Optimalprint Premium product to the cart","responses":{"200":{"description":"Returns modified cart content (with modified item list and recalculated sums)","schema":{"$ref":"#/definitions/cartResponse"}},"400":{"description":"Optimalprint Premium product cannot be added to the cart (either already added or not relevant).","schema":{"$ref":"#/definitions/cartResponse"}}}}},"/cart/remove-premium":{"get":{"summary":"Removes Optimalprint Premium product from the cart","responses":{"200":{"description":"Returns modified cart content (with modified item list and recalculated sums)","schema":{"$ref":"#/definitions/cartResponse"}},"400":{"description":"Optimalprint Premium product cannot be removed from the cart (e.g. non-existent cart item).","schema":{"$ref":"#/definitions/cartResponse"}}}}},"/cart/change-quantity/{itemId}":{"get":{"summary":"Changes the specific order item quantity","responses":{"200":{"description":"Returns modified cart content (with modified item list and recalculated sums)","schema":{"$ref":"#/definitions/cartResponse"}},"400":{"description":"Requested quantity cannot be applied to the requested order item.","schema":{"$ref":"#/definitions/cartResponse"}},"404":{"description":"Requested order item is NOT found.","schema":{"$ref":"#/definitions/cartResponse"}}},"parameters":[{"name":"itemId","in":"path","description":"item ID for quantity modification","type":"integer","required":true},{"name":"quantity","in":"query","description":"New quantity to apply","type":"integer","required":true}]}},"/cart/save-to-drafts/{itemId}":{"get":{"summary":"Saves the specific order item (design) to drafts.","responses":{"200":{"description":"Returns modified cart content (modified item list and recalculated sums)","schema":{"$ref":"#/definitions/cartResponse"}},"404":{"description":"Requested order item is NOT found.","schema":{"$ref":"#/definitions/cartResponse"}}},"parameters":[{"name":"itemId","in":"path","description":"item ID to save to drafts","type":"integer","required":true},{"name":"removeFromCart","in":"query","description":"Defines whether to remove the order cart after it's saved to drafts","type":"boolean","default":false,"required":false}]}},"/cart/duplicate/{itemId}":{"get":{"summary":"Creates a copy of the specific order item (design), puts it to the cart and provides the link for editing the copy.","responses":{"200":{"description":"Returns modified cart content (modified item list and recalculated sums) and  the link for editing the copy","schema":{"type":"object","properties":{"errorCode":{"type":"integer"},"errorMessage":{"type":"string"},"order":{"$ref":"#/definitions/order"},"duplicatedItem":{"type":"object","properties":{"itemId":{"type":"integer"},"editDesignUrl":{"type":"string"}}}}}},"404":{"description":"Requested order item is NOT found.","schema":{"$ref":"#/definitions/cartResponse"}}},"parameters":[{"name":"itemId","in":"path","description":"item ID to duplicate","type":"integer","required":true}]}},"/auth/login":{"post":{"summary":"Logs in a customer with the specified email and password","responses":{"200":{"description":"Returns modified cart content (with modified item list and recalculated sums)","schema":{"type":"object","properties":{"errorCode":{"type":"integer"},"errorMessage":{"type":"string"},"customer":{"$ref":"#/definitions/customer"}}}},"400":{"description":"Requested quantity cannot be applied to the requested order item."},"404":{"description":"Requested order item is NOT found."}},"parameters":[{"name":"email","in":"query","description":"User name (email)","type":"string","required":true},{"name":"password","in":"query","description":"User Password","type":"string","required":true}]}},"/auth/registration":{"post":{"summary":"Register a customer with the specified email and password","responses":{"200":{"description":"Returns modified cart content (with modified item list and recalculated sums)","schema":{"type":"object","properties":{"errorCode":{"type":"integer"},"errorMessage":{"type":"string"},"customer":{"$ref":"#/definitions/customer"}}}},"400":{"description":"Requested quantity cannot be applied to the requested order item."},"404":{"description":"Requested order item is NOT found."}},"parameters":[{"name":"email","in":"query","description":"User name (email)","type":"string","required":true},{"name":"password","in":"query","description":"User Password","type":"string","required":true},{"name":"firstName","in":"query","description":"Customer's first name","type":"string","required":true},{"name":"lastName","in":"query","description":"Customer's last name","type":"string","required":true},{"name":"company","in":"query","description":"Customer's company name","type":"string","required":false,"default":""},{"name":"countryId","in":"query","description":"Customer's country ID","type":"string","required":false,"default":""}]}},"/auth/password-recovery/request-token/{email}":{"get":{"summary":"Sends password recovery token to the specified customer's email (if it's assigned to an account)","responses":{"200":{"description":"Returns info regarding created shipment address and customer account (in case it's created as well)","schema":{"type":"object","properties":{"errorCode":{"type":"integer"},"errorMessage":{"type":"string"}}}},"404":{"description":"Could not find a customer account with the requested email."}},"parameters":[{"name":"email","in":"path","description":"customer account email address to retrieve password recovery mail with token (URL)","type":"string","required":true}]}},"/auth/password-recovery/set-password":{"post":{"summary":"Sets new password using token recevied in a password recovery mail","responses":{"200":{"description":"Returns info regarding created shipment address and customer account (in case it's created as well)","schema":{"type":"object","properties":{"errorCode":{"type":"integer"},"errorMessage":{"type":"string"},"customer":{"$ref":"#/definitions/customer"}}}}},"parameters":[{"name":"token","in":"query","description":"token received with password recovery email","type":"string","required":true},{"name":"password","in":"query","description":"New password","type":"string","required":true}]}},"/shipment-address/add":{"post":{"summary":"Adds a new shipment address and connect it to the current order (cart). In case if the customer is not logged in and email / password are provided then a new account is registered along with shipment address creation.","responses":{"200":{"description":"Returns info regarding created shipment address and customer account (in case it's created as well)","schema":{"type":"object","properties":{"errorCode":{"type":"integer"},"errorMessage":{"type":"string"},"shipmentAddress":{"$ref":"#/definitions/shipmentAddress"},"customer":{"$ref":"#/definitions/customer"}}}},"400":{"description":"Requested quantity cannot be applied to the requested order item."},"404":{"description":"Requested order item is NOT found."}},"parameters":[{"name":"shipmentAddressId","in":"query","description":"Shipment address ID (to avoid redundant duplication of shipment addresses)","type":"string","required":false,"default":""},{"name":"email","in":"query","description":"User name (email)","type":"string","required":false,"default":""},{"name":"password","in":"query","description":"User Password","type":"string","required":false,"default":""},{"name":"firstName","in":"query","description":"Customer's first name","type":"string","required":true},{"name":"lastName","in":"query","description":"Customer's last name","type":"string","required":true},{"name":"company","in":"query","description":"Customer's company name","type":"string","required":false,"default":""},{"name":"countryId","in":"query","description":"Customer's country ID","type":"string","required":true,"default":""},{"name":"county","in":"query","description":"Customer's county (relevant for UK only)","type":"string","required":false,"default":""},{"name":"usStateId","in":"query","description":"US state ID (relevant for US only)","type":"string","required":false,"default":""},{"name":"canadianProvinceId","in":"query","description":"Canadian province ID (relevant for Canada only)","type":"string","required":false,"default":""},{"name":"addressLine1","in":"query","description":"Customer's address (line 1)","type":"string","required":true},{"name":"addressLine2","in":"query","description":"Customer's address (line 2)","type":"string","required":false,"default":""},{"name":"addressLine3","in":"query","description":"Customer's address (line 3)","type":"string","required":false,"default":""},{"name":"phonePrefix","in":"query","description":"Customer's phone prefix (country code)","type":"string","required":false,"default":""},{"name":"phoneNumber","in":"query","description":"Customer's phone number (w/o country code)","type":"string","required":false,"default":""}]}},"/shipment-address/get-latest":{"post":{"summary":"Gets latest used shipment address (or prefilled set of address fields if no address has been created yet).","responses":{"200":{"description":"Returns info regarding the latest uses shipment address","schema":{"type":"object","properties":{"errorCode":{"type":"integer"},"errorMessage":{"type":"string"},"shipmentAddress":{"$ref":"#/definitions/shipmentAddress"}}}}}}}}}